(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{380:function(t,s,a){"use strict";a.r(s);var e=a(4),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"getting-started-with-openeo-and-opendatacube"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#getting-started-with-openeo-and-opendatacube"}},[t._v("#")]),t._v(" Getting started with openEO and OpenDataCube")]),t._v(" "),a("p",[t._v("As a back-end provider who wants to provide its datasets, processes and infrastructure to a broader audience through a\nstandardized interface you may want to implement a driver for openEO.")]),t._v(" "),a("p",[t._v("First of all, you should read carefully the "),a("RouterLink",{attrs:{to:"/documentation/1.0/developers/backends/getting-started.html"}},[t._v("getting started guide for service providers")]),t._v(".")],1),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),a("p",[t._v("OpenDataCube is not an openEO back-end, but can be part of the infrastructure for the data management part.\nIn detail it can be used as data source for "),a("a",{attrs:{href:"https://api.openeo.org/#tag/EO-Data-Discovery",target:"_blank",rel:"noopener noreferrer"}},[t._v("EO Data Discovery"),a("OutboundLink")],1),t._v(" and e.g.\nin combination with a dask cluster as processing backend for "),a("a",{attrs:{href:"https://api.openeo.org/#tag/Data-Processing",target:"_blank",rel:"noopener noreferrer"}},[t._v("Data Processing"),a("OutboundLink")],1),t._v(".\nIn any case, a "),a("a",{attrs:{href:"#http-rest-interface"}},[t._v("HTTP REST interface must be available in front of ODC to properly answer openEO requests")]),t._v(".")])]),t._v(" "),a("p",[t._v("There are three main components involved with ODC and openEO:")]),t._v(" "),a("ol",[a("li",[a("a",{attrs:{href:"#process-graph-parser-for-python"}},[t._v("Process Graph Parser for Python")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#python-processes-for-openeo"}},[t._v("Python Processes for openEO")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#openeo-to-odc-process-mapper"}},[t._v("openEO to ODC Process Mapper")])])]),t._v(" "),a("h2",{attrs:{id:"process-graph-parser-for-python"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#process-graph-parser-for-python"}},[t._v("#")]),t._v(" Process Graph Parser for Python")]),t._v(" "),a("ul",[a("li",[t._v("Repository: "),a("a",{attrs:{href:"https://github.com/Open-EO/openeo-pg-parser-python",target:"_blank",rel:"noopener noreferrer"}},[t._v("openeo-pg-parser-python"),a("OutboundLink")],1)])]),t._v(" "),a("p",[t._v("The process graph parser translates a process graph in json / dict format into a traversable python object. It\nautomatically validates that only collections and processes are used which are available at the backend.")]),t._v(" "),a("p",[t._v("For example, this "),a("a",{attrs:{href:"https://github.com/Open-EO/openeo-odc/blob/master/tests/process_graphs/evi.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("EVI process graph"),a("OutboundLink")],1),t._v(" can be\ntranslated using the openEO Process Graph Parser in the following way:")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" openeo_pg_parser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("translate "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" translate_process_graph\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" urllib"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("request\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" json\n\neviJsonProcessGraphURL "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://raw.githubusercontent.com/Open-EO/openeo-odc/master/tests/process_graphs/evi.json'")]),t._v("\njsonUrl "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" urllib"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("urlopen"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("eviJsonProcessGraphURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ndata "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" jsonUrl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("read"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\njsonProcessGraph "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" json"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("loads"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nprocessGraph "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" translate_process_graph"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("jsonProcessGraph"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sort"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("by"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'result'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" node "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" processGraph"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("node"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("process_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h2",{attrs:{id:"python-processes-for-openeo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#python-processes-for-openeo"}},[t._v("#")]),t._v(" Python Processes for openEO")]),t._v(" "),a("ul",[a("li",[t._v("Repository: "),a("a",{attrs:{href:"https://github.com/Open-EO/openeo-processes-python",target:"_blank",rel:"noopener noreferrer"}},[t._v("openeo-processes-python"),a("OutboundLink")],1)])]),t._v(" "),a("p",[t._v("This package is a Python implementation of a subset of "),a("RouterLink",{attrs:{to:"/documentation/1.0/processes.html"}},[t._v("all openeo processes")]),t._v(".")],1),t._v(" "),a("p",[t._v("This package includes implementations based on numbers, numpy and xarray. Based on the type of your input data the\nalgorithm automatically chooses the right implementation. E.g. if your input is an "),a("code",[t._v("xarray.Dataarray")]),t._v(" it will use the\nxarray implementation of the called process. Independent of the input data type a process can therefore simply be\ncalled by:")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" openeo_processes "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" processes\nprocesses"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("subtract"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'x'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'y'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("which in this case would use the number implementation and substract 5 from 3. The exact same function could also be\ncalled with two "),a("code",[t._v("xarray.Dataarray")]),t._v("s as input.")]),t._v(" "),a("p",[t._v("From a technical perspective, each process is implemented as a function and a corresponding class with up to four static\nfunctions "),a("code",[t._v("exec_num")]),t._v(", "),a("code",[t._v("exec_np")]),t._v(", "),a("code",[t._v("exec_xar")]),t._v(", and "),a("code",[t._v("exec_da")]),t._v(". Within the  context of OpenDataCube the most important\none is "),a("code",[t._v("exec_xar")]),t._v(" - the xarray implementation.")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),a("p",[t._v("The different data type implementations of a single process are completely independent. So one can easily add the\nxarray implementation without editing the implementations for the other data types.")])]),t._v(" "),a("p",[t._v("Implemented ODC processes")]),t._v(" "),a("ul",[a("li",[t._v("load_collection")]),t._v(" "),a("li",[t._v("load_result")])]),t._v(" "),a("p",[t._v("Implemented xarray processes:")]),t._v(" "),a("ul",[a("li",[t._v("array_element")]),t._v(" "),a("li",[t._v("is_nodata")]),t._v(" "),a("li",[t._v("is_nan")]),t._v(" "),a("li",[t._v("is_valid")]),t._v(" "),a("li",[t._v("gt")]),t._v(" "),a("li",[t._v("reduce_dimension")]),t._v(" "),a("li",[t._v("apply")]),t._v(" "),a("li",[t._v("save_result")]),t._v(" "),a("li",[t._v("absolute")]),t._v(" "),a("li",[t._v("sgn")]),t._v(" "),a("li",[t._v("sqrt")]),t._v(" "),a("li",[t._v("mean")]),t._v(" "),a("li",[t._v("min")]),t._v(" "),a("li",[t._v("max")]),t._v(" "),a("li",[t._v("median")]),t._v(" "),a("li",[t._v("sd")]),t._v(" "),a("li",[t._v("variance")]),t._v(" "),a("li",[t._v("quantiles")]),t._v(" "),a("li",[t._v("cummin")]),t._v(" "),a("li",[t._v("cummax")]),t._v(" "),a("li",[t._v("cumproduct")]),t._v(" "),a("li",[t._v("cumsum")]),t._v(" "),a("li",[t._v("sum")]),t._v(" "),a("li",[t._v("product")]),t._v(" "),a("li",[t._v("add")]),t._v(" "),a("li",[t._v("substract")]),t._v(" "),a("li",[t._v("multiply")]),t._v(" "),a("li",[t._v("divide")]),t._v(" "),a("li",[t._v("apply_kernel")])]),t._v(" "),a("h2",{attrs:{id:"openeo-to-odc-process-mapper"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#openeo-to-odc-process-mapper"}},[t._v("#")]),t._v(" openEO to ODC Process Mapper")]),t._v(" "),a("ul",[a("li",[t._v("Repository: "),a("a",{attrs:{href:"https://github.com/Open-EO/openeo-odc",target:"_blank",rel:"noopener noreferrer"}},[t._v("openeo-odc"),a("OutboundLink")],1)])]),t._v(" "),a("p",[t._v("openeo-odc maps an openEO process graph to an executable Python file and thereby ties together the other two packages.\nThe input is a plain openeo process graph in json / dict format (see below) and the output is a python file composed of\none function call per process (see below). In detail each process in the process graph is mapped to a function call to\n"),a("a",{attrs:{href:"https://github.com/openeo-processes-python",target:"_blank",rel:"noopener noreferrer"}},[t._v("openeo-processes-python"),a("OutboundLink")],1),t._v(" package.")]),t._v(" "),a("p",[t._v("For this translation openeo-odc uses internally the "),a("a",{attrs:{href:"https://github.com/openeo-pg-parser-python",target:"_blank",rel:"noopener noreferrer"}},[t._v("openeo-pg-parser-python"),a("OutboundLink")],1),t._v("\npackages. Leveraging the resulting python representation of the process graph "),a("a",{attrs:{href:"https://github.com/openeo-odc",target:"_blank",rel:"noopener noreferrer"}},[t._v("openeo-odc"),a("OutboundLink")],1),t._v("\neach process in the process graph is mapped separately. Next to the correct mapping of the process itself the main task\nof "),a("a",{attrs:{href:"https://github.com/openeo-odc",target:"_blank",rel:"noopener noreferrer"}},[t._v("openeo-odc"),a("OutboundLink")],1),t._v(" is to correctly understand and pass given parameters and arguments\n(this can be simple values but also references previous nodes).")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),a("p",[t._v("opendatacube, xarray and openeo-processes-python are "),a("strong",[t._v("not")]),t._v(" dependencies because this package simply creates a\npython file that can be executed in the correct environment where these dependencies are resolved.")])]),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/Open-EO/openeo-odc/blob/master/tests/process_graphs/evi.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("Sample process graph for an EVI calculation (Input)."),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("Sample python output file, generated using the "),a("a",{attrs:{href:"https://github.com/Open-EO/openeo-odc/blob/master/tests/test_odc.py",target:"_blank",rel:"noopener noreferrer"}},[t._v("testing script"),a("OutboundLink")],1),t._v(",\ncalling a number of processes implemented within "),a("a",{attrs:{href:"https://github.com/openeo-processes-python",target:"_blank",rel:"noopener noreferrer"}},[t._v("openeo-processes-python"),a("OutboundLink")],1),t._v(" - notice that the\noutput of a previous function call can easily be used as input for another one.")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" dask"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("distributed "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Client\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" datacube\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" openeo_processes "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" processes\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Initialize ODC instance")]),t._v("\ncube "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" datacube"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Datacube"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Connect to Dask Scheduler")]),t._v("\nclient "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Client"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'tcp://xxx.yyy.zzz.kkk:8786'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\ndc_0 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" processes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("load_collection"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("odc_cube"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("cube"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'product'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'boa_sentinel_2'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'x'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11.2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("12.9")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'y'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("47.1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("50.5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'time'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2018-06-15'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2018-06-17'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dask_chunks'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'time'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'auto'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'x'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'y'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'measurements'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'B08'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'B04'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'B02'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nnir_2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" processes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("array_element"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" dc_0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'index'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dimension'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bands'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nred_3 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" processes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("array_element"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" dc_0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'index'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dimension'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bands'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nblue_4 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" processes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("array_element"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" dc_0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'index'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dimension'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bands'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nsub_5 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" processes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("subtract"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'x'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" nir_2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'y'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" red_3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\np1_6 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" processes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("multiply"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'x'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" red_3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'y'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\np2_7 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" processes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("multiply"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'x'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" blue_4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'y'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7.5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nsum_8 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" processes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("sum")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" nir_2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" p1_6"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" p2_7"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ndiv_9 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" processes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("divide"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'x'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" sub_5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'y'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" sum_8"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\np3_10 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" processes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("multiply"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'x'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" div_9"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'y'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nevi_1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" processes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("reduce_dimension"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" p3_10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dimension'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'spectral'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'reducer'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nmin_12 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" processes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("min")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" evi_1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dimension'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'time'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nmintime_11 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" processes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("reduce_dimension"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" min_12"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dimension'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'temporal'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'reducer'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nsave_13 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" processes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("save_result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mintime_11"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'format'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'netCDF'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h2",{attrs:{id:"adding-a-new-process"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#adding-a-new-process"}},[t._v("#")]),t._v(" Adding a new process")]),t._v(" "),a("p",[t._v("To add a new process which can be used with ODC/Xarray/Dask, there are changes required in two of the components:")]),t._v(" "),a("ol",[a("li",[a("a",{attrs:{href:"#openeo-processes-python"}},[t._v("openeo-processes-python")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#openeo-odc"}},[t._v("openeo-odc")])])]),t._v(" "),a("p",[t._v("No changes are required in openeo-pg-parser-python.")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("Attention")]),t._v(" "),a("p",[t._v("Make sure you always have the latest version of the required repositories "),a("a",{attrs:{href:"https://github.com/Open-EO/openeo-pg-parser-python",target:"_blank",rel:"noopener noreferrer"}},[t._v("openEO Process Graph Parser"),a("OutboundLink")],1),t._v(", "),a("a",{attrs:{href:"https://github.com/Open-EO/openeo-processes-python",target:"_blank",rel:"noopener noreferrer"}},[t._v("openEO Processes Python"),a("OutboundLink")],1),t._v(" and "),a("a",{attrs:{href:"https://github.com/Open-EO/openeo-odc",target:"_blank",rel:"noopener noreferrer"}},[t._v("openEO ODC Process Mapper"),a("OutboundLink")],1),t._v(" installed when you test your code.")])]),t._v(" "),a("h3",{attrs:{id:"openeo-processes-python"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#openeo-processes-python"}},[t._v("#")]),t._v(" openeo-processes-python")]),t._v(" "),a("ol",[a("li",[t._v("Select a process from "),a("a",{attrs:{href:"https://processes.openeo.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("processes.openeo.org"),a("OutboundLink")],1),t._v(" which does not yet have a xarray\nimplementation in "),a("a",{attrs:{href:"https://github.com/openeo-processes-python",target:"_blank",rel:"noopener noreferrer"}},[t._v("openeo-processes-python"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("li",[t._v("Clone "),a("a",{attrs:{href:"https://github.com/openeo-processes-python",target:"_blank",rel:"noopener noreferrer"}},[t._v("openeo-processes-python"),a("OutboundLink")],1),t._v(", checkout a new branch, and start\nimplementing the missing process. If a function and class already exists for this process just implement the\n"),a("code",[t._v("exec_xar")]),t._v(" method, if not you also need to implement the function and class itself. Make sure you properly handle\nall parameters defined for this process. Add a test for your process with xarray data as input (in the "),a("code",[t._v("conftest.py")]),t._v("\nthe "),a("code",[t._v("test_data")]),t._v("-fixture is available).")]),t._v(" "),a("li",[t._v("Push your code and open a PR.")])]),t._v(" "),a("h3",{attrs:{id:"openeo-odc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#openeo-odc"}},[t._v("#")]),t._v(" openeo-odc")]),t._v(" "),a("ol",[a("li",[t._v("Clone "),a("a",{attrs:{href:"https://github.com/openeo-odc",target:"_blank",rel:"noopener noreferrer"}},[t._v("openeo-odc"),a("OutboundLink")],1),t._v(" and checkout a new branch.")]),t._v(" "),a("li",[t._v("Ensure that there is a mapper available for your newly implemented process. Currently the mapping is done based\non the input parameters, so some processes may automatically be supported, for some others an additional\nmapper function must be implemented.")]),t._v(" "),a("li",[t._v("Check your mapping works by adding a test for the new process which correctly translates its dict representation\nto the processes function call.")]),t._v(" "),a("li",[t._v("Push your code and open a PR.")])]),t._v(" "),a("h2",{attrs:{id:"testing-the-new-environment"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#testing-the-new-environment"}},[t._v("#")]),t._v(" Testing the new environment")]),t._v(" "),a("p",[t._v("The following steps describe how to test that everything works:")]),t._v(" "),a("ol",[a("li",[t._v("You can create a process graph using the "),a("a",{attrs:{href:"https://editor.openeo.org/?server=https://openeo.eodc.eu/v1.0&discover=1",target:"_blank",rel:"noopener noreferrer"}},[t._v("openEO Web Editor"),a("OutboundLink")],1),t._v(" and store the corresponding JSON locally.")]),t._v(" "),a("li",[t._v("Modify the collection in "),a("code",[t._v("load_collection")]),t._v(" with one available in your local OpenDataCube instance. Check that bands, temporal and spatial extent are available in your ODC product. Translate the process graph into an executable Python script:"),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" openeo_odc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("map_to_odc "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" map_to_odc\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" openeo_pg_parser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("translate "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" translate_process_graph\n\nprocess_graph_json "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'your_test_process_graph.json'")]),t._v("\nodc_url "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'tcp://xxx.yyy.zzz.kkk:8786'")]),t._v("\ngraph "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" translate_process_graph"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("process_graph_json"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                              process_defs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sort"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("by"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'result'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nnodes "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" map_to_odc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("graph"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" odc_url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Write to disk")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("open")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("process_graph "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('".py"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"w"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" f"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" node "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" nodes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      f"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("write"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("nodes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("node"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]),t._v(" "),a("li",[t._v("Execute the obtained script and check if it succeeds.")])]),t._v(" "),a("h2",{attrs:{id:"http-rest-interface"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#http-rest-interface"}},[t._v("#")]),t._v(" HTTP REST Interface")]),t._v(" "),a("p",[t._v("The next step would be to set up a HTTP REST interface (i.e. an implementation of the openEO HTTP API) for the new openEO ODC environment.\nIt must be available in front of ODC to properly answer openEO client requests.\nCurrently, the "),a("a",{attrs:{href:"https://openeo.eodc.eu/v1.0",target:"_blank",rel:"noopener noreferrer"}},[t._v("EODC"),a("OutboundLink")],1),t._v(" and "),a("a",{attrs:{href:"https://openeo.eurac.edu/",target:"_blank",rel:"noopener noreferrer"}},[t._v("EURAC"),a("OutboundLink")],1),t._v(" back-ends use ODC and thus\nare the first implementations of back-ends to look at.")]),t._v(" "),a("p",[t._v("If you have any questions, please "),a("RouterLink",{attrs:{to:"/contact.html"}},[t._v("contact us")]),t._v(".")],1)])}),[],!1,null,null,null);s.default=n.exports}}]);